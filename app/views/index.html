<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>FeatherQ</title>

    <script>window.$ = window.jQuery = require('jquery');</script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.20/angular.min.js"></script>
    <script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" />
    <link rel="stylesheet" href="../css/star-rating.css">
    <link rel="stylesheet" href="../css/queue.css">
</head>
<body ng-app="FeatherQ" ng-cloak>
<div class="" ng-controller="queueController">
    <div id="queue-content">
        <div class="panel {{ called ? 'panel-success' : 'panel-primary' }} panel-inverse">
            <div class="panel-heading text-center">
                <div class="row">
                    <div class="text-left col-xs-4">
                        <a class="panel-title" href="#" title="Back" ng-click="back()">
                            <span class="glyphicon glyphicon-arrow-left"></span>
                            <small>Back</small>
                        </a>
                    </div>
                    <div class="col-xs-4 text-center">
                        <strong class="panel-title">{{ business_name }}</strong>
                    </div>
                    <div class="text-right col-xs-4">
                        <a class="panel-title" href="#" title="View Broadcast Screen" ng-click="viewBroadcast()">
                            <small>View</small>
                            <span class="glyphicon glyphicon-th-large"></span>
                        </a>
                    </div>
                </div>
            </div>
            <div class="panel-body">
                <div class="col-xs-5">
                    <div class="text-left">
                        <h5><strong>{{ service_name }}</strong></h5>
                        <h5>{{ terminal_name }}</h5>
                    </div>
                    <div class="text-center">
                        <strong class="text-center"><span class="glyphicon glyphicon-user"></span> Waiting: </strong>
                        <h4 class="text-center">{{ numbers_in_line }}</h4>
                    </div>
                </div>
                <div class="col-xs-7 text-center">
                    <strong>Current Number: </strong>
                    <a href="#" class="btn btn-xs btn-primary btn-links" ng-click="openForm()">
                        <span class="glyphicon glyphicon-list-alt"></span>
                        View Form
                    </a>
                    <h1>{{ current_number ? current_number.priority_number : next_number }}</h1>
                    <div>
                        <div class="">
                            <form class="star-rating-form" ng-show="current_number.email && current_number.time_called > 0">
                        <span class="star-rating">
                            <input type="radio" name="rating" ng-model="rating" value="1"><i></i>
                            <input type="radio" name="rating" ng-model="rating" value="2"><i></i>
                            <input type="radio" name="rating" ng-model="rating" value="3"><i></i>
                            <input type="radio" name="rating" ng-model="rating" value="4"><i></i>
                            <input type="radio" name="rating" ng-model="rating" value="5"><i></i>
                        </span>
                            </form>
                        </div>
                        <div class="pull-right">
                            <div>
                                <a href="#" ng-show="false"><span class="glyphicon glyphicon-share-alt"></span> </a>
                                <a href="#" ng-show="false"><span class="glyphicon glyphicon-folder-open"></span> </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="queue-buttons">
            <div ng-if="called == false">
                <button ng-disabled="is_processing" class="col-xs-4 btn btn-primary" ng-click="drop()"><span class="glyphicon glyphicon-trash"></span></button>
                <button ng-disabled="is_processing" class="col-xs-8 btn btn-primary" ng-click="callPressed()"><span class="glyphicon glyphicon-bell"></span> CALL</button>
            </div>
            <div ng-if="called == true">
                <button ng-disabled="is_processing" class="col-xs-4 btn btn-success" ng-click="drop()"><span class="glyphicon glyphicon-trash"></span></button>
                <button ng-disabled="is_processing" class="col-xs-4 btn btn-success" ng-click="done()"><span class="glyphicon glyphicon-ok"></span> DONE</button>
                <button ng-disabled="is_processing" class="col-xs-4 btn btn-success" ng-click="next()"><span class="glyphicon glyphicon-forward"></span> NEXT</button>
            </div>
        </div>
    </div>
</div>
</body>
<script>
    // You can also require other files to run in this process
    require('./../renderer.js');
    require('./../angular/queueController.js');
</script>
</html>
